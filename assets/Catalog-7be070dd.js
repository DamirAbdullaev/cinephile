import{u as y,c as m,r as h,a as f,o as l,b as d,w as k,d as w,e as n,t as g,i as C,j as u,l as S,m as v,n as b,F as x,q as z,s as B}from"./index-e58a277f.js";const M={alt:""},D={__name:"CatalogItem",props:{item:Object,type:String},setup(t){const e=y(),a=m(()=>e.movieUrl),c=m(()=>e.movieSize);return e.getConfiguration(),(r,s)=>{const o=h("router-link"),i=f("lazy");return l(),d(o,{to:`/${t.type}/`+t.item.id,class:"main__catalog_list-item"},{default:k(()=>[w(n("img",M,null,512),[[i,a.value+c.value+t.item.backdrop_path]]),n("h2",null,g(t.item.title||t.item.name),1)]),_:1},8,["to"])}}},P={key:0},U={class:"main__catalog container"},$={class:"main__catalog_title"},j={class:"main__catalog_list container"},N={__name:"Catalog",props:{type:String},setup(t){const e=t,a=C();let c=m(()=>e.type=="movie"?"Все фильмы":"Все сериалы");const r=u(1),s=u([]);let o=u(!1);const i=async()=>{if(!o.value){o.value=!0,await a.getPopular({type:e.type,page:r.value});let p=e.type=="movie"?a.popularMovies:a.popularTvs;s.value.push(...p),o.value=!1,r.value++}};return S(()=>{window.onscroll=()=>{scrollY+window.innerHeight>=document.body.scrollHeight-100&&i()},i()}),(p,F)=>s.value?(l(),v("div",P,[n("div",U,[n("h2",$,g(b(c)),1)]),n("div",j,[(l(!0),v(x,null,z(s.value,_=>(l(),d(D,{key:_.id,item:_,type:e.type},null,8,["item","type"]))),128))])])):B("",!0)}};export{N as _};
